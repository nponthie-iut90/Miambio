{% extends 'layout.html' %}

    {% block title %}
        <title>Modifier une vente</title>
    {% endblock %}

{% block body %}
<body>
    <div class="container mt-4">
        <h1>Formulaire de vente</h1>
        <form action="/vente/edit" method="post">
            <!-- Champs pour saisir les informations de la vente -->
            <div class="mb-3">
                <label for="Prix">Prix</label>
                <input id="Prix" type="text" name="Prix" size="18" placeholder="Saisir le prix de vente">
            </div>
            <div class="mb-3">
                <label for="Quantitée_vendue">Quantité vendue</label>
                <input id="Quantitée_vendue" type="text" name="Quantite_vendue" size="18" placeholder="Saisir la quantité vendue">
            </div>
            <div class="mb-3">
                <label for="Prix_total_de_vente">Prix total de vente</label>
                <input id="Prix_total_de_vente" type="text" name="Prix_total_de_vente" size="18" placeholder="Saisir le prix total de vente">
            </div>
            <div class="mb-3">
                <label for="Semaine"> Semaine n° :</label><br>
                <select name="Semaine" id="Semaine" required>
                    <option value="" >Numéro de semaine</option>
                    {% for semaine in semaines%}
                        <option value="{{semaine.Id_Semaine}}" {%if semaine.Id_Semaine == recolte.semaine %} selected {% endif %} >{{semaine.Id_Semaine}}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <input type="hidden" name="id" value="{{ production.id }}">
                <label for="produit">Produit :</label>
                <select name="produit" id="produit" required>
                    {% for produit in produits %}
                        <option value="{{ produit.Id_produit }}" {% if produit.Id_produit == production.Id_produit %}selected{% endif %}>{{ produit.Libellé_produit }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <label for="marches">Marché :</label>
                <select name="marches" id="marches" required>
                    <option value="" selected>Sélectionner le produit</option>
                    {% for marches in marches %}
                        <option value="{{ marches.Id_marches }}">{{ marches.Date_marche }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <label class="form-label" for="maraicher">Maraichers</label><br>
                <select class="form-select" name="maraicher" id="maraicher" >
                    <option value="" selected>Sélectionner un maraicher</option>
                    {% for maraicher in Maraichers %}
                        <option value="{{ Maraichers.Id_Maraicher }}" {% if product_id is defined and Maraichers.Id_Maraicher == product_id %}selected{% endif %}> {{ Maraichers.Nom_Maraicher }}</option>
                    {% endfor %}
                </select><br>
            </div>
            <button type="submit" class="btn btn-primary">Enregistrer</button>
        </form>
    </div>

    <!-- Inclure Bootstrap 5 JS (pour les fonctionnalités supplémentaires) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.7.0/dist/js/bootstrap.min.js"></script>
</body>
 {% endblock %}
